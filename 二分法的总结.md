# äºŒåˆ†æ³•çš„æ€»ç»“

ä¸»è¦å‚è€ƒèµ„æ–™ï¼š

[ç®—æ³•æ¨¡æ¿ç½‘ç«™](https://ojeveryday.github.io/AlgoWiki/#/BinarySearch/01-introduction)ï¼ˆå¼ºè°ƒäºŒåˆ†çš„ä¸‰ç§æ¨¡æ¿åŠå…¶ç»†èŠ‚ï¼‰ã€

[91ç®—æ³•è®²ä¹‰](https://github.com/leetcode-pp/91alg-1/blob/master/topic-binary-search.md)ï¼ˆå¼ºè°ƒäºŒåˆ†æ³•åœ¨ä¸åŒæƒ…æ™¯ä¸‹çš„æ€è·¯ï¼‰

äºŒåˆ†æ³•çš„ç»†èŠ‚å¾ˆå¤šï¼Œä¹Ÿåšäº†ä¸å°‘é¢˜äº†ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ï¼Œä¸‹æ¬¡çœ‹çš„æ—¶å€™æ–¹ä¾¿ï¼Œç‰¹åˆ«æ³¨æ„ä½¿ç”¨i<jæ¨¡æ¿æ—¶çš„ç»†èŠ‚ã€‚
è¯¦ç»†æ€è·¯åŠä»£ç è§ä¸‹é¢å„é¢˜é¢˜è§£


--------------------------
## 1

ä¹‹å‰éšæœºåšçš„ä¸€é¢˜ï¼Œè¿™æ¬¡æŒ‰ç€æ€è·¯åˆåšäº†ä¸€æ¬¡ï¼Œ
ç»†èŠ‚å€’æ˜¯æœ‰ç‚¹äº†ï¼Œä½†æ˜¯åˆæ²¡æœ‰è€ƒè™‘åˆ°xä¸º0å’Œ1çš„æƒ…å†µï¼Œå®³ã€‚ã€‚ã€‚ã€‚ã€‚

çœ‹ä¼¼ç®€å•çš„äºŒåˆ†ï¼Œè‡ªå·±ä¹Ÿé‡åˆ°ä¸å°‘äº†ï¼Œéƒ½æ²¡æœ‰è¿‡ä¸€æ¬¡ACçš„ï¼Œæ— éå°±æ˜¯è¾¹ç•Œé—®é¢˜ï¼Œå‘Šè¯‰ä½ è¿™é¢˜ç”¨äºŒåˆ†ï¼Œæˆ‘å¯èƒ½ä¹Ÿè¦èŠ±ä¸å°‘çš„æ—¶é—´æ¥åšã€‚è¿˜æ˜¯å¾—å¤šæ€»ç»“ã€‚

**[69. x çš„å¹³æ–¹æ ¹](https://leetcode-cn.com/problems/sqrtx/)**


### è§£é¢˜æ€è·¯
äºŒåˆ†æ³•ï¼Œç»†èŠ‚è§åŠŸåŠ›......
åŠ æ²¹ğŸ’ª

### ä»£ç 

```python3
# æ–¹æ³•1ï¼šè¿­ä»£äºŒåˆ†æ³•
# right-left = 1 çš„æ—¶å€™ï¼Œå·²ç»å¾—åˆ°äº†æ­£ç¡®çš„ç»“æœä½†æ˜¯è¿˜æ˜¯æ²¡æœ‰è·³å‡ºå¾ªç¯ï¼Œæ‰€ä»¥æ˜¯left + 1 < right
# æ³¨æ„leftï¼Œrightï¼Œmidä¸€ç›´æ˜¯æ•´æ•°ï¼Œæ‰€ä»¥æœ€åä¸è¦å–æ•´

# Time:O(logx)
# Space:O(1)
class Solution:
    def mySqrt(self, x: int) -> int:
        if x <= 1:
            return x
        left, right = 0, x
        while left + 1 < right:
            mid = left + (right - left) // 2
            if mid <= x // mid:
                left = mid
            else:
                right = mid
        return left



# æ–¹æ³•2ï¼šç‰›é¡¿è¿­ä»£æ³•
# æ•°å­¦åŸç†ï¼Œäº†è§£
# Time:O(logx)
# Space:O(1)
class Solution:
    def mySqrt(self, x: int) -> int:
        if x <= 1:
            return x
        r = x
        while r > x / r:
            r = (r + x / r) // 2
        return int(r)



# æ–¹æ³•3ï¼šï¼Ÿï¼Ÿï¼Ÿæˆ‘å°±è¯•è¯•
class Solution:
    def mySqrt(self, x: int) -> int:
        return int(sqrt(x))
```


------------
## 2

**[278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬](https://leetcode-cn.com/problems/first-bad-version/)**



### è§£é¢˜æ€è·¯
äºŒåˆ†çš„ç»ƒä¹ 

### ä»£ç 

```python3
class Solution:
    def firstBadVersion(self, n):
        l, r = 1, n
        while l <= r:
            mid = l + ((r - l) >> 1)
            if isBadVersion(mid):
                r = mid - 1
            else:
                l = mid + 1
        return l
```

--------------
## 3

**[162. å¯»æ‰¾å³°å€¼](https://leetcode-cn.com/problems/find-peak-element/)**



### è§£é¢˜æ€è·¯
äºŒåˆ†çš„ç»ƒä¹ 

l<r,ä¸å–ç­‰å·ï¼Œå¾ªç¯ç»“æŸçš„æ¡ä»¶ä¸€å®šæ˜¯l==rï¼Œè€Œä¸” // ä¸ºå‘ä¸‹å–æ•´ï¼Œæ‰€ä»¥mid+1ä¸ä¼šè¶Šç•Œï¼Œè€Œmid-1å¯èƒ½ä¼š

### ä»£ç 

```python3
class Solution:
    def findPeakElement(self, nums: List[int]) -> int:
        l, r = 0, len(nums) - 1
        while l < r:
            mid1 = l + (r - l) // 2
            mid2 = mid1 + 1
            if nums[mid1] > nums[mid2]:
                r = mid1
            else:
                l = mid2
        return l
        # return r
```

--------------------------
## 4

äºŒåˆ†æ³•çš„ä¸‰ç§æƒ…å†µä¸‹çš„æ¨¡æ¿è®°å½•


**[34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®](https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/)**



### è§£é¢˜æ€è·¯
äºŒåˆ†çš„å°æ€»ç»“ï¼šäºŒåˆ†æ³•çš„ä¸‰ç§æƒ…å†µä¸‹çš„æ¨¡æ¿è®°å½•

### ä»£ç 

```python3
# ä»£ç 1ï¼šl <= r
# å°†åŒºé—´å…¨éƒ¨æ£€æµ‹å®Œ
# æœ€æ˜“ç†è§£çš„äºŒåˆ†ï¼Œåœ¨å†™æ³•ä¸Šé€šç”¨ï¼Œéœ€è¦è€ƒè™‘æ²¡æœ‰è§£æ—¶çš„è¾¹ç•Œæƒ…å†µ
class Solution:
    def searchRange(self, nums: List[int], target: int) -> List[int]:
        res = [-1, -1]

        l, r = 0, len(nums) - 1
        while l <= r:
            mid = l + (r - l) // 2
            if nums[mid] <= target:
                l = mid + 1
            else:
                r = mid - 1
        if r < 0 or nums[r] != target:
            return res
        res[1] = r
        
        l, r = 0, len(nums) - 1
        while l <= r:
            mid = l + (r - l) // 2
            if nums[mid] >= target:
                r = mid - 1
            else:
                l = mid + 1
        res[0] = l
        return res



# ä»£ç 2ï¼šl < r
# åŒºé—´å‰©ä¸‹ä¸€ä¸ªå…ƒç´ æœªæ£€æµ‹ï¼Œéœ€æ ¹æ®é¢˜ç›®å…·ä½“æƒ…å†µå†³å®šæ˜¯å¦åˆ¤æ–­
# é€‚ç”¨é¢˜ç›®æ›´å¹¿çš„äºŒåˆ†ï¼Œç›¸å¯¹äº1ï¼Œè€ƒè™‘çš„é¢˜ç›®ç»†èŠ‚å°‘ä¸€ç‚¹ï¼ŒæŒæ¡ä¸ç†Ÿç»ƒæ˜“å†™é”™ã€‚å¯¹äºäºŒåˆ†é—®é¢˜ç†è§£ä¼šæ›´åŠ çš„æœ‰å¸®åŠ©
class Solution:
    def searchRange(self, nums: List[int], target: int) -> List[int]:
        res = [-1, -1]

        l, r = 0, len(nums) - 1
        while l < r:
            mid = l + (r - l) // 2  # å‘å·¦å–æ•´
            if nums[mid] < target:  # é¦–å…ˆè€ƒè™‘ä¸€å®šä¸å­˜åœ¨è§£çš„åŒºé—´ï¼Œåˆ™æœ‰+1ï¼ˆæˆ–è€…-1ï¼‰
                l = mid + 1
            else:
                r = mid
        if not nums or nums[l] != target:  # ç”¨ä¾‹ä¸­æœ‰nums = [] çš„æƒ…å†µ
            return res
        res[0] = l
        
        l, r = 0, len(nums) - 1
        while l < r:
            mid = l + (r - l + 1) // 2  # å‘å³å–æ•´
            if nums[mid] > target:
                r = mid - 1
            else:
                l = mid
        res[1] = r
        return res


# ä»£ç 3ï¼šl + 1 < r
# åŒºé—´å‰©ä¸‹ä¸¤ä¸ªå…ƒç´ æœªæ£€æµ‹ï¼Œå¿…é¡»è¦å†åˆ¤æ–­è¿™ä¸¤ä¸ªå…ƒç´ æ˜¯å¦æ˜¯è§£ï¼Œæœ‰çš„é¢˜ç›®è¿˜ä¸åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ çš„å…ˆåé¡ºåºæœ‰å…³
# é€‚åº”ç‰¹å®šçš„é¢˜ç›®ï¼Œç”¨çš„æœ€å°‘
        ...
        r = mid
        ...
        l = mid
        ...

```

------------------
## 5

**[4. å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°](https://leetcode-cn.com/problems/median-of-two-sorted-arrays/)**


### è§£é¢˜æ€è·¯
æ„Ÿè§‰è¿™ä¸ªé¢˜ç›®å¥½éš¾...
æ ¸å¿ƒæ€æƒ³éƒ½æ˜ç™½ï¼Œä¹ŸçŸ¥é“æ˜¯äºŒåˆ†æ³•ï¼Œä½†æ˜¯ç»†èŠ‚éƒ¨åˆ†èƒ½ç©å¤§åŠå¤©...è¿™è¿˜æ˜¯å¾ˆä¹…ä»¥å‰åšè¿‡çš„é¢˜ç›®(è™½ç„¶æ²¡ä»€ä¹ˆç”¨)

**å„ç§æ–¹æ³•åŠæ—¶ç©ºåˆ†æ**ï¼š
æ–¹æ³•1ï¼šæš´åŠ›åˆå¹¶ä¸¤ä¸ªæ•°ç»„ï¼Œç›´æ¥å–ä¸­ä½æ•°
Time:O(m+n)
Space:O(m+n)

æ–¹æ³•2ï¼šä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«ä»ä¸¤ä¸ªæ•°ç»„æœ€å·¦è¾¹çš„å¼€å§‹èµ°ï¼Œå“ªä¸ªå°èµ°å“ªä¸ªï¼Œç›´åˆ°ä¸¤ä¸ªæŒ‡é’ˆçš„å’Œæœªä¸­ä½æ•°ä¸‹æ ‡
Time:O(m+n)
Space:O(1)

æ–¹æ³•3ï¼šTime:O(log(m+n))

æ–¹æ³•4ï¼šæœ¬æ–¹æ³•ï¼ˆä½“ä¼šäºŒåˆ†çš„ç»†èŠ‚ï¼‰
Time:O(log(min(m,n)))
Space:O(1)

**å…³é”®ç‚¹**ï¼š
æ±‚è§£ä¸­ä½æ•°éœ€è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼Œå³å·¦åŠè¾¹é•¿åº¦ç­‰äºå³åŠè¾¹ï¼Œå·¦åŠè¾¹æœ€å¤§å€¼æ¯”å³åŠè¾¹æœ€å°å€¼å°ï¼Œ
åœ¨æœ¬é¢˜ä¸­ä¸¤ä¸ªæ¡ä»¶è½¬åŒ–ä¸ºï¼š
```
len(left_part)==len(right_part)
nums2[mid2-1] <= nums1[mid1] and nums1[mid1-1] <= nums2[mid2]
```

**æœ¬é¢˜åŠä»£ç æ³¨æ„ç‚¹**ï¼š
å„ç§é¢˜è§£å·²ç»è¯´çš„éå¸¸æ¸…æ¥šï¼Œä½†æ˜¯è‡ªå·±ç†è§£å’Œæ‰‹æ•²çš„æ—¶å€™è¿˜æœ‰æœ‰å¾ˆå¤šç‚¹å€¼å¾—æ€è€ƒï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹æˆ‘è®¤ä¸ºæœ‰ä»·å€¼çš„ç‚¹ï¼š
1. é¢˜ç›®è¯´äº†è¦æ±‚ï¼ŒTime:O(log(m + n))ï¼Œé‚£ä¹ˆäºŒåˆ†æ³•æ˜¯ç¡®å®šçš„ï¼Œè™½ç„¶è¿™é‡Œçš„ä¸¤ç§æš´åŠ›æ–¹æ³•å¾ˆå®¹æ˜“å†™å‡º
2. ç›´æ¥çœ‹ä»£ç ï¼Œé¦–å…ˆç”¨äº†ä¸€ä¸ªreturné€’å½’æ¥å®ç°äº†num1æ˜¯è¾ƒå°çš„æ•°ç»„ï¼Œè¿™ç§æ—¶é—´O(1)çš„è§£å†³æ–¹æ¡ˆçœŸçš„å¦™ï¼Œè€Œä¸å°‘é¢˜è§£çš„ä½œè€…å†™äº†æ•°ç»„äº¤æ¢ï¼Œè¿™æ ·çš„è¯æ—¶é—´å¤æ‚åº¦ä¸€ä¸‹å­å°±å˜æˆäº†è‡³å°‘O(max(m,n))
3. ä¸ºä»€ä¹ˆè¦åœ¨æ›´çŸ­é•¿åº¦çš„num1ä¸­äºŒåˆ†ï¼Ÿ1.è¿™ä¸ä»…æœ‰æ•ˆé™ä½æ—¶é—´å¤æ‚åº¦ã€‚2.è€Œä¸”ä¿è¯äº†åœ¨æ±‚mid2çš„æ—¶å€™ï¼Œä¸ä¼šè¶Šç•Œï¼Œå³mid2ä¸ä¼šå˜æˆè´Ÿæ•°ã€‚â€œä¸ºä½• len2 >= len1ï¼Ÿ å› ä¸ºæˆ‘å¿…é¡»ç¡®ä¿ mid2 æ˜¯éè´Ÿçš„ï¼Œå› ä¸º 0 <= mid1 <= len1 å¹¶ä¸” mid2 = (len1 + len2 + 1) // 2 - mid1ã€‚ å¦‚æœ len1 > len2 ï¼Œ åˆ™ mid2 å¯èƒ½æ˜¯è´Ÿå€¼ï¼Œ è¿™å°†å¯¼è‡´é”™è¯¯çš„ç»“æœâ€ã€‚[å‚è€ƒæ–‡ç« ](https://zhuanlan.zhihu.com/p/70654378)
4. ä¸ºä»€ä¹ˆmid2ä¸­æ±‚è§£éœ€è¦+1ï¼Ÿæˆ‘å‘ç°è§£é‡Šè¿™ä¸ªé—®é¢˜çš„äººå’Œé¢˜è§£çœŸçš„éå¸¸å°‘ï¼Œåˆ°ç›®å‰ä¸ºæ­¢æˆ‘åªçœ‹åˆ°å›½åŒº[å®˜æ–¹é¢˜è§£](https://leetcode-cn.com/problems/median-of-two-sorted-arrays/solution/xun-zhao-liang-ge-you-xu-shu-zu-de-zhong-wei-s-114/)çš„è§†é¢‘é‡Œæåˆ°ï¼Œä¸‹é¢çš„è®¨è®ºåŒºä½œè€…ä¹Ÿåœ¨è§£é‡Šã€‚è¿™é‡Œå…ˆè¯´ä¸€ä¸‹æˆ‘çš„ç†è§£ï¼Œç”±äºæˆ‘ä»¬åœ¨æ±‚mid1çš„æ—¶å€™æ˜¯å‘ä¸‹å–æ•´ï¼Œå³mid1 = (left + right) // 2ï¼Œæ‰€ä»¥åœ¨æ±‚mid2çš„æ—¶å€™è¦ç›¸åº”çš„å‘ä¸Šå–æ•´ï¼Œå³(len1 + len2 + 1) // 2ï¼Œå¦åˆ™ï¼Œä¸¤ä¸ªéƒ½å‘ä¸‹å–æ•´ï¼Œè¿™ä¼šä½¿å¾—mid1 + mid2 == len1 - mid1 + len2 - mid2ï¼Œä¸æˆç«‹ï¼Œå› è€Œå¯¼è‡´æ•°ç»„è¶Šç•Œå’Œæ­»å¾ªç¯çš„æƒ…å†µã€‚è¿™é‡Œæˆ‘ä»¬è¿˜éœ€è¦ä¿è¯å½“ä¸¤ä¸ªæ•°ç»„æ˜¯å¥‡æ•°ä¸ªçš„æ—¶å€™ï¼Œä¸­ä½æ•°åœ¨å·¦åŠè¾¹è€Œä¸æ˜¯å³åŠè¾¹ã€‚å‘ç°å®˜æ–¹é¢˜è§£çš„è§£é‡Šå’Œæˆ‘çš„ç†è§£åŸºæœ¬ä¸€è‡´ï¼Œä½†æ˜¯å®˜æ–¹è¯´çš„æ›´åŠ çš„è¯¦ç»†ã€‚æˆ‘è§‰å¾—è¿™ä¸ªç‚¹æ˜¯æœ¬é¢˜æœ€éš¾ç†è§£å’Œæ­£ç¡®å†™å‡ºæ¥çš„åœ°æ–¹ï¼Œæ‰€ä»¥ä»¥åé‡åˆ°å¾—æ³¨æ„ã€‚
5. è§£å†³äº†ç¬¬å››ç‚¹ï¼Œå°±æ˜¯é¢˜ç›®çš„é€»è¾‘é—®é¢˜äº†ï¼ˆè¿™ä¸ªé¢˜ç›®ç‰¹åˆ«çš„åœ°æ–¹å°±åœ¨è¿™é‡Œï¼Œéš¾ç‚¹æ˜¯è¾¹ç•Œè€Œä¸æ˜¯é€»è¾‘ï¼Œæ­£å¸¸çš„é¢˜ç›®éƒ½æ˜¯é€»è¾‘éš¾ï¼Œæ‰€ä»¥è¿™å°±æ˜¯äºŒåˆ†æ³•çš„é—®é¢˜å§ï¼‰ã€‚å…ˆè€ƒè™‘ç¼©å°è¾¹ç•Œçš„æƒ…å†µï¼Œç¬¬å››ç‚¹å·²ç»è§£å†³äº†å·¦åŠè¾¹é•¿åº¦ç­‰äºå³åŠè¾¹é•¿åº¦äº†ï¼Œå³len(left_part)==len(right_part)ï¼Œåœ¨è¿™ä¸€ç‚¹ä¸­æˆ‘ä»¬è¦è€ƒè™‘nums2[mid2-1] <= nums1[mid1] and nums1[mid1-1] <= nums2[mid2]ï¼Œå¦‚æœæˆ‘ä»¬çµ®å¨çš„æ¡ä»¶æ˜¯è¿™ä¸ªï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿”å›ä¸­ä½æ•°äº†ï¼Œä½†æ˜¯è¿™ä¸ªæ¡ä»¶æœ‰ä¸€äº›è¾¹ç•Œæ¡ä»¶éœ€è¦è€ƒè™‘ã€‚æ‰€ä»¥æˆ‘ä»¬å…ˆè€ƒè™‘nums1[mid1] < nums2[mid2 - 1]ï¼Œæ­¤æ—¶æ’é™¤äº†è¾¹ç•Œæƒ…å†µï¼šnum1æœ€å¤§å€¼æ¯”num2æœ€å°å€¼å°ï¼Œè€ƒè™‘nums1[mid1]çš„å€¼å°çš„æ—¶å€™ï¼Œå·¦æŒ‡é’ˆéœ€è¦å³ç§»ã€‚nums1[mid1 - 1] > nums2[mid2]ï¼Œæ’é™¤äº†è¾¹ç•Œæƒ…å†µï¼šnum1æœ€å°å€¼æ¯”num2æœ€å¤§å€¼å¤§ï¼Œè€ƒè™‘nums1[mid1]çš„å€¼å°çš„æ—¶å€™ï¼Œå³æŒ‡é’ˆéœ€è¦å·¦ç§»ã€‚ç„¶åæˆ‘ä»¬è€ƒè™‘å‰©ä¸‹çš„è¾¹ç•Œæƒ…å†µï¼Œä¸¤ç§è¾¹ç•Œæƒ…å†µå¯ä»¥ç›´æ¥å¾—å‡ºä¸­ä½æ•°ä¸‹æ ‡ï¼Œæœ€åæˆ‘ä»¬éœ€è¦è€ƒè™‘ä¸¤ä¸ªæ•°ç»„æ˜¯å¥‡æ•°ä¸ªè¿˜æ˜¯å¶æ•°ä¸ªï¼Œè¿”å›æœ€ç»ˆè§çš„ä¸€ä¸ªå€¼è¿˜æ˜¯ä¸¤ä¸ªå€¼çš„å‡å€¼ã€‚


### ä»£ç 

```python3
# ä»£ç 1ï¼šæ•´åˆ
class Solution(object):
    def findMedianSortedArrays(self, nums1, nums2):
        len1, len2 = len(nums1), len(nums2)
        if len1 > len2:
            return self.findMedianSortedArrays(nums2, nums1)

        left, right = 0, len1
        while left <= right:
            mid1 = (left + right) // 2
            mid2 = (len1 + len2 + 1) // 2 - mid1
            if mid1 < len1 and nums1[mid1] < nums2[mid2 - 1]:
                left = mid1 + 1
            elif mid1 > 0 and nums1[mid1 - 1] > nums2[mid2]:
                right = mid1 - 1
            else:
                max_left = max(nums1[mid1 - 1] if mid1 > 0 else float("-inf"),
                               nums2[mid2 - 1] if mid2 > 0 else float("-inf"))
                if (len1 + len2) % 2:
                    return max_left
                min_right = min(nums1[mid1] if mid1 < len1 else float("inf"),
                                nums2[mid2] if mid2 < len2 else float("inf"))
                return (max_left + min_right) / 2



# ä»£ç 2ï¼šå±•å¼€+æ³¨é‡Š
class Solution(object):
    def findMedianSortedArrays(self, nums1, nums2):
        len1, len2 = len(nums1), len(nums2)
        if len1 > len2:
            return self.findMedianSortedArrays(nums2, nums1)    # ä¿è¯num1æ˜¯é•¿åº¦è¾ƒå°çš„æ•°ç»„
        left, right = 0, len1    # ç”¨å·¦å³æŒ‡é’ˆåœ¨num1ä¸­äºŒåˆ†æœç´¢
        while left <= right:    # è¿™é‡Œä¸€å®šå­˜åœ¨ä¸­ä½æ•°ï¼Œwhile True:ä¹Ÿå¯ä»¥ï¼Œwhile left <= right:ä¹Ÿä¸€æ ·
            mid1 = left + (right - left) // 2    # num1ä¸­å³åŠè¾¹çš„æœ€å°å€¼ä¸‹æ ‡ï¼Œå‘ä¸‹å–æ•´
            mid2 = (len1 + len2 + 1) // 2 - mid1    # num2ä¸­å³åŠè¾¹æœ€å°å€¼ä¸‹æ ‡ï¼Œç”±äºmid1å·²ç»æ˜¯å‘ä¸‹å–æ•´ï¼Œæ‰€ä»¥è¿™é‡Œmid2è¦å‘ä¸Šå–æ•´ï¼Œä¿è¯å¥‡å¶æƒ…å†µä¸‹éƒ½æ˜¯å–çš„ä¸€æ ·çš„å€¼
            if mid1 < len1 and nums1[mid1] < nums2[mid2 - 1]:    # æ’é™¤è¾¹ç•Œæƒ…å†µnum1æœ€å¤§å€¼æ¯”num2æœ€å°å€¼å°ï¼Œnums1[mid1]çš„å€¼å°ï¼Œå·¦æŒ‡é’ˆå³ç§»
                left = mid1 + 1
            elif mid1 > 0 and nums1[mid1 - 1] > nums2[mid2]:    # æ’é™¤è¾¹ç•Œæƒ…å†µnum1æœ€å°å€¼æ¯”num2æœ€å¤§å€¼å¤§ï¼Œnums1[mid1]çš„å€¼å°ï¼Œå³æŒ‡é’ˆå·¦ç§»
                right = mid1 - 1
            else:    # è€ƒè™‘ä¸¤ç§è¾¹ç•Œæƒ…å†µå’Œå¥‡å¶ä¸ªæ•°æƒ…å†µ
                if mid1 == 0:
                    max_left = nums2[mid2 - 1]    # å·¦åŠè¾¹æœ€å¤§å€¼
                elif mid2 == 0:
                    max_left = nums1[mid1 - 1]
                else:
                    max_left = max(nums2[mid2 - 1], nums1[mid1 - 1])
                if (len1 + len2) % 2 == 1:    # å¦‚æœä¸¤æ•°ç»„æ˜¯å¥‡æ•°ä¸ªæ•°å­—ï¼Œåˆ™å·¦åŠè¾¹æœ€å¤§å€¼å°±æ˜¯ä¸­ä½æ•°
                    return max_left

                if mid1 == len1:
                    min_right = nums2[mid2]    # å³åŠè¾¹æœ€å°å€¼
                elif mid2 == len2:
                    min_right = nums1[mid1]
                else:
                    min_right = min(nums2[mid2], nums1[mid1])
                return (max_left + min_right) / 2


```

----------------
## 6

**[222. å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°](https://leetcode-cn.com/problems/count-complete-tree-nodes/)**



### è§£é¢˜æ€è·¯
**æ–¹æ³•1**ï¼šæš´åŠ›éå†ï¼Œé‡åˆ°ä¸€ä¸ªç‚¹ç®—ä¸€ä¸ª
ä»£ç å°±ç®—äº†
Time:O(N)ï¼ŒNä¸ºèŠ‚ç‚¹æ€»æ•°
Space:O(logN)

**æ–¹æ³•2**ï¼šé€’å½’/è¿­ä»£æ³•å¿«é€Ÿéå†ï¼Œåˆ†ä¸ºå·¦å­æ ‘ä¸ºæ»¡äºŒå‰æ ‘å’Œå³å­æ ‘ä¸ºæ»¡äºŒå‰æ ‘ä¸¤ç§æƒ…å†µ
Time:O(logN * logN)
Space:O(logN)
è¿™ç§æ–¹æ³•å®¹æ˜“ç†è§£ï¼Œä½†æ˜¯ä¸€ä¸‹å­å¯èƒ½æƒ³ä¸åˆ°å·¦å³å­æ ‘åˆ†ä¸ºæ»¡äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘çš„æƒ…å†µï¼ˆè‡³å°‘æˆ‘æƒ³ä¸åˆ°ï¼‰
è¿™ç§æ–¹æ³•å…¶å®ä¹Ÿæ˜¯å……åˆ†åˆ©ç”¨å®Œå…¨è€ŒäºŒå‰æ ‘çš„æ€§è´¨äº†


**æ–¹æ³•3**ï¼šäºŒåˆ†æ³•ï¼Œå¯»æ‰¾æœ€åº•å±‚çš„èŠ‚ç‚¹åºå·
Time:O(logN * logN)ï¼Œåœ¨æœ€åä¸€å±‚äºŒåˆ†logNï¼Œç„¶åä»æ ¹èŠ‚ç‚¹åˆ°æœ€åä¸€å±‚logN
Space:O(logN)æˆ–è€…O(1)ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿ç†è§£ç”¨äº†åè¿›åˆ¶è½¬äºŒè¿›åˆ¶ï¼Œå­˜å‚¨äº†ä¸€ä¸‹ç„¶åéå†ï¼Œå…¶å®å®Œå…¨å¯ä»¥ä¸ç”¨å­˜å‚¨ï¼Œå¯ä»¥å®ç°ç©ºé—´O(1)çš„è§£æ³•ã€‚
è¯¦ç»†èŠä¸€ä¸‹æ–¹æ³•3ï¼š
è¿™é¢˜æˆ‘è®¤ä¸ºæœ€æœ‰æ„æ€çš„åœ°æ–¹å°±æ˜¯äºŒåˆ†æ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªäºŒåˆ†æœ¬èº«æ²¡æœ‰å¤ªå¤§çš„éš¾åº¦ï¼Œä½†æ˜¯ä¸å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹æ€§è´¨ç»“åˆï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤šç‚¹å€¼å¾—å­¦ä¹ çš„ï¼Œä»¥åé‡åˆ°åº”è¯¥æ³¨æ„ã€‚
èµ·åˆæˆ‘çš„æƒ³æ³•ä¹Ÿæ˜¯äºŒåˆ†ï¼Œä½†æ˜¯åœ¨å®ç°ä»æ ¹èŠ‚ç‚¹åˆ°æœ€åä¸€å±‚èŠ‚ç‚¹çš„æ—¶å€™ï¼Œæ²¡æœ‰å¾ˆå®¹æ˜“çš„åšå‡ºæ¥ï¼Œå†™çš„æ¯”è¾ƒæŒ«ã€‚ç›´åˆ°åˆçœ‹äº†å¤§é‡çš„é¢˜è§£ï¼Œæˆ‘å‘ç°äº†ä¸€ç§æ–¹æ³•ï¼šæ ¹æ®äºŒå‰æ ‘åè¿›åˆ¶çš„èŠ‚ç‚¹åºå·ï¼Œè½¬æ¢æˆäºŒè¿›åˆ¶ï¼Œç„¶åæ ¹æ®0å’Œ1æ¥åˆ¤æ–­èµ°å·¦å­æ ‘è¿˜æ˜¯å³å­æ ‘ï¼Œ[å‚è€ƒé“¾æ¥](https://leetcode.com/problems/count-complete-tree-nodes/discuss/701466/Python-O(log-n-*-log-n)-solution-with-Binary-Search-explained)ï¼Œè¿™ç§æ–¹æ³•ä¸å°±æ˜¯èµ·åˆå®šä¹‰äºŒå‰æ ‘çš„æ–¹æ³•å—ï¼Ÿå¦‚æœæŠŠè¿™ä¸ªæ€§è´¨ç”¨ä¸Šäº†ï¼Œé‚£ä¹ˆè¿™é¢˜çš„æ€è·¯å°†ä¼šéå¸¸çš„æ¸…æ™°ï¼š
1. å†™ä¸€ä¸ªæ–¹æ³•ï¼Œå°†åè¿›åˆ¶è½¬ä¸ºäºŒè¿›åˆ¶ä¹‹åï¼Œä»ç¬¬å››ä½å¼€å§‹èµ°ï¼Œç›´åˆ°èµ°åˆ°æœ€åä¸€å±‚ï¼Œå¦‚æœè¿™ä¸ªèŠ‚ç‚¹ä¸å­˜åœ¨è¿”å›Falseï¼Œå¦åˆ™è¿”å›True
2. ä¸»å‡½æ•°è¦å…ˆæ±‚å‡ºæ ‘çš„é«˜åº¦ï¼Œæ³¨æ„æ ‘çš„é«˜åº¦ä¹Ÿå¯ä»¥ç”¨é€’å½’çš„ç®€æ´ä»£ç æ±‚å‡º
3. ç„¶åè¿›è¡ŒäºŒåˆ†ï¼Œè¿™é¢˜äºŒåˆ†åªè¦æ‰¾å‡ºä»å³è¾¹èµ·ç¬¬ä¸€ä¸ªä¸ºTrueçš„ç‚¹ï¼ˆæˆ–è€…å·¦è¾¹èµ·æœ€åä¸€ä¸ªä¸ºTrueçš„ç‚¹ï¼‰ï¼Œè€Œä¸”ä¸€å®šå­˜åœ¨è§£ï¼Œè¿™å°±è½¬åŒ–ä¸ºäº†äºŒåˆ†çš„æ–¹æ³•ï¼Œæ ¹æ®ä»¥ä¸Šçš„åˆ†æï¼Œç›´æ¥å¥—æ¨¡æ¿å³å¯ï¼Œè€Œä¸”ç”¨left < rightå‹æ¨¡æ¿æœ€åˆé€‚ï¼Œå› ä¸ºæœ€ç»ˆåªéœ€è¦æ‰¾åˆ°ä¸€ä¸ªè§£ï¼Œä¸”è¿™ä¸ªè§£å·²çŸ¥ä¸€å®šå­˜åœ¨ï¼Œleft < rightæ¨¡æ¿æœ€åé”å®šçš„ä¸€å®šæ˜¯left = rightçš„é‚£ä¸ªå…ƒç´ ï¼Œä¸éœ€è¦é¢„å¤„ç†ä¹Ÿä¸éœ€è¦åå¤„ç†ï¼Œæ³¨æ„è¿™é‡Œéœ€è¦å‘ä¸Šå–æ•´å“¦ã€‚
å½“ç„¶ç”¨left <= rightå’Œleft + 1 < rightä¹Ÿå¯ä»¥ï¼Œéœ€è¦åå¤„ç†ï¼Œå¤šåˆ¤æ–­ä¸€ä¸‹ã€‚ä¸ºäº†åŠ å¼ºå¯¹äºŒåˆ†çš„ç†è§£ï¼Œä¸‹é¢ä»£ç ç»™å‡ºäº†ä¸‰ç§äºŒåˆ†çš„æ–¹å¼ï¼Œå…¨éƒ¨å¯ä»¥é€šè¿‡ã€‚

### ä»£ç 

```python3

# æ–¹æ³•2ï¼šé€’å½’/è¿­ä»£æ³•å¿«é€Ÿéå†
class Solution:
    def getDepth(self, root):  # è®¡ç®—å½“å‰æ ‘çš„æ·±åº¦
        depth = 0
        while root:
            depth += 1
            root = root.left
        return depth
    
    def countNodes(self, root: TreeNode) -> int:
        cnt = 0
        while root:
            left = self.getDepth(root.left)  # å·¦å­æ ‘æ·±åº¦
            right = self.getDepth(root.right)  # å³å­æ ‘æ·±åº¦
            if left == right:  # å·¦å³å­æ ‘æ·±åº¦ç›¸åŒï¼Œå·¦å­æ ‘ä¸€å®šæ˜¯æ»¡äºŒå‰æ ‘ï¼Œå³å­æ ‘å¯èƒ½ä¸ºæ»¡äºŒå‰æ ‘ï¼Œä¸€å®šä¸ºå®Œå…¨äºŒå‰æ ‘
                root = root.right
                cnt += 2 ** left
            else:              # å·¦å³å­æ ‘æ·±åº¦ä¸åŒï¼Œå³å­æ ‘ä¸€å®šæ˜¯æ»¡äºŒå‰æ ‘ï¼Œå·¦å­æ ‘å¯èƒ½ä¸ºæ»¡äºŒå‰æ ‘ï¼Œä¸€å®šä¸ºå®Œå…¨äºŒå‰æ ‘
                root = root.left
                cnt += 2 ** right  
        return cnt



# æ–¹æ³•3ï¼šäºŒåˆ†æ³•ï¼Œå¯»æ‰¾æœ€åº•å±‚çš„èŠ‚ç‚¹åºå·
class Solution:
    def Path(self, root, num):
        for s in bin(num)[3:]:  # åè¿›åˆ¶è½¬äºŒè¿›åˆ¶ï¼Œå‰ä¸¤ä½ä¸º0bï¼Œç¬¬ä¸‰ä½ä¸ºæ ¹èŠ‚ç‚¹ï¼Œæ ¹èŠ‚ç‚¹éç©ºä¸€å®šä¸º1ï¼Œæ‰€ä»¥ä»ç¬¬å››ä½å¼€å§‹ï¼Œä¸‹æ ‡ä¸º3
            if s == "0": 
                root = root.left
            else:
                root = root.right
            if not root: return False
        return True
    
    def countNodes(self, root: TreeNode) -> int:
        if not root:return 0
        
        depth = 0
        cur = root
        while cur.left:
            depth += 1
            cur = cur.left
        
        left, right = 2 ** depth, 2 ** (depth + 1) - 1
        # left < right å‹äºŒåˆ†ï¼Œæœ¬é¢˜æœ€ç»ˆç»“æœåªéœ€è¦ç¼©å°åˆ°left = rightï¼Œè€Œä¸”ä¸€å®šæœ‰è§£ï¼Œé‡åˆ° right - 1 ç¼©å°åŒºé—´è®°å¾—å‘ä¸Šå–æ•´
        while left < right:
            mid = (left + right + 1) // 2  # å‘ä¸Šå–æ•´
            if self.Path(root, mid):
                left = mid
            else:
                right = mid - 1
        return left


        # left <= right å‹äºŒåˆ†ï¼Œæœ€åéœ€è¦å¤„ç†è¾¹ç•Œç‚¹
        # while left <= right:
        #     mid = (left + right) // 2
        #     if self.Path(root, mid):
        #         left = mid + 1
        #     else:
        #         right = mid - 1
        # return mid if self.Path(root, mid) else right


        # left + 1 < right å‹äºŒåˆ†ï¼Œæœ€åéœ€è¦å¤„ç†è¾¹ç•Œç‚¹
        # while left + 1 < right:
        #     mid = (left + right) // 2
        #     if self.Path(root, mid):
        #         left = mid
        #     else:
        #         right = mid
        # return left if not self.Path(root, right) else right

```

----------------
## 7

**[41. æ’åˆ—ç¡¬å¸](https://leetcode-cn.com/problems/arranging-coins/)**



### è§£é¢˜æ€è·¯
äºŒåˆ†æ³•ç»ƒä¹ 

é‡‡ç”¨ i<j å‹äºŒåˆ†æ¨¡æ¿ï¼ˆç»ƒä¹ ï¼‰ï¼Œç»“æŸçš„ç»ˆæ­¢æ¡ä»¶æ˜¯i == jï¼Œ
å› ä¸ºæˆ‘ä»¬æœ€ç»ˆåªéœ€è¦æ‰¾åˆ°æ»¡è¶³(1 + k) * k // 2 <= nï¼Œçš„æœ€å¤§kçš„å€¼ï¼Œ

i<j å‹äºŒåˆ†æ¨¡æ¿å…ˆè€ƒè™‘ä¸€å®šæ— è§£çš„æƒ…å†µï¼Œå½“(1 + mid) * mid // 2 > næ—¶ä¸€å®šæ— è§£ï¼Œæ‰€ä»¥å³è¾¹ç•Œj = mid - 1è€Œä¸æ˜¯j = mid

ç„¶åæ˜¯æœ‰è§£çš„æƒ…å†µï¼Œå·¦è¾¹ç•Œi = midï¼Œå³å¯ï¼ˆæ…¢æ…¢é è¿‘ï¼‰
è¿™æ—¶æˆ‘ä»¬å‘ç°æ˜¯å·¦è¾¹ç•Œi = midï¼Œæ‰€ä»¥äºŒåˆ†éœ€è¦å‘ä¸Šå–æ•´ã€‚ï¼ˆå¦‚æœæ˜¯j = midï¼Œåˆ™æ˜¯å‘ä¸‹å–æ•´ï¼‰

è§£å†³é—®é¢˜ï¼

### ä»£ç 

```python3
class Solution:
    def arrangeCoins(self, n: int) -> int:
        i, j = 0, n
        while i < j:
            mid = i + (j - i + 1) // 2
            if (1 + mid) * mid // 2 > n:
                j = mid - 1
            else:
                i = mid
        return j
```

-------------
## 8


**[744. å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯](https://leetcode-cn.com/problems/find-smallest-letter-greater-than-target/solution/)**

äºŒåˆ†i<jçš„ç»†èŠ‚

### è§£é¢˜æ€è·¯
æœ‰ä¸‰ç§äºŒåˆ†ï¼š`i<jã€i+1<jã€i<=j`ã€‚å‚è€ƒé¢˜è§£ï¼š[34. äºŒåˆ†æ³•çš„ä¸‰ç§æƒ…å†µä¸‹çš„æ¨¡æ¿è®°å½•](https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/solution/34-er-fen-fa-de-san-chong-qing-kuang-xia-de-mo-ban/)

å…¶ä¸­`i < j`ï¼Œä½¿ç”¨é¢˜ç›®æœ€å¤šï¼Œå› ä¸ºå˜åŒ–æœ€å¤šï¼Œç»†èŠ‚ä¹Ÿæ¯”è¾ƒå¤šã€‚

`i < j`å‹äºŒåˆ†è¯¦ç»†è®¾è®¡æ€è·¯ï¼š

1. è€ƒè™‘é¢˜ç›®å±äºä»¥ä¸‹å“ªä¸€ç§é¢˜å‹ï¼š
â‘ æ‰¾ä»»æ„ä¸€ä¸ªè§£ã€â‘¡æ‰¾æœ€å·¦è¾¹æ»¡è¶³æ¡ä»¶çš„è§£ã€â‘¢æ‰¾æœ€å³è¾¹æ»¡è¶³æ¡ä»¶çš„è§£

2. å¦‚æœæ˜¯â‘ ï¼Œé‚£ç›´æ¥æœå³å¯ï¼Œç”¨å“ªç§äºŒåˆ†æ¨¡æ¿éƒ½è¡Œï¼›å¦‚æœæ˜¯â‘¡ï¼Œä¸ºäº†ä¿è¯ä¸æ¼è§£ä¸”ä¸ä¼šæ­»å¾ªç¯ï¼Œå¯ä»¥ç¡®å®šçš„æ˜¯`mid`å‘å·¦å–æ•´ï¼›åŒç†å¦‚æœæ˜¯â‘¢,åˆ™æ˜¯å‘å³å–æ•´ã€‚

3. ä¸‹é¢æ˜¯`if`åˆ¤æ–­è¯­å¥ï¼Œæ­¤å¤„é¦–å…ˆè¦è€ƒè™‘ä¸€å®šä¸å­˜åœ¨è§£çš„åŒºé—´ï¼Œè¿™ä¸ªä¸€å®šä¸å­˜åœ¨è§£çš„åŒºé—´åˆ™æ˜¯åˆ¤æ–­æ¡ä»¶ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼ŒåŒºé—´åˆ†ä¸ºå¼€åŒºé—´å’Œé—­åŒºé—´ã€‚å¦‚æœæ˜¯:
â‘ å¼€åŒºé—´ï¼Œå³`nums[mid] < target`ï¼Œè¿™ç§é¢˜ç›®æ˜¯è¦æ±‚æ‰¾å‡ºæœ€å·¦ï¼ˆå³ï¼‰è¾¹çš„ç›®æ ‡å€¼ï¼Œä¾‹å¦‚é¢˜[34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®](https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/)
â‘¡é—­åŒºé—´ï¼Œå³`nums[mid] <= target`ï¼Œè¿™ç§é¢˜ç›®æ˜¯è¦æ±‚æ‰¾å‡ºæœ€å·¦ï¼ˆå³ï¼‰è¾¹æ¯”ç›®æ ‡å€¼å¤§ï¼ˆå°ï¼‰çš„ç¬¬ä¸€ä¸ªå€¼ï¼Œä¾‹å¦‚æœ¬é¢˜[744. å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯](https://leetcode-cn.com/problems/find-smallest-letter-greater-than-target/solution/)


4. `if`æ¡ä»¶çš„ä¸€è¾¹ç¡®å®šäº†ä¹‹åï¼Œå¦ä¸€è¾¹ç›´æ¥`else`å³å¯ã€‚åœ¨`if`ä¹‹ä¸‹ï¼Œå¦‚æœä¸Šé¢æ˜¯å‘å·¦å–æ•´ï¼Œåˆ™å·¦è¾¹åˆ©ç”¨`mid + 1`ï¼Œå³è¾¹åˆ©ç”¨å‘å·¦å–æ•´ï¼Œ`mid`å³å¯ï¼Œä¸¤è¾¹ç•Œç¼©å°åŒºé—´ï¼›å¦‚æœä¸Šé¢æ˜¯å‘å³å–æ•´ï¼Œåˆ™å³è¾¹åˆ©ç”¨`mid - 1`ï¼Œå·¦è¾¹åˆ©ç”¨å‘å³å–æ•´ï¼Œ`mid`å³å¯ï¼Œä¸¤è¾¹ç•Œç¼©å°åŒºé—´ã€‚

5. ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¾ªç¯ç»“æŸéƒ½éœ€åˆ¤æ–­æ˜¯å¦äºŒåˆ†çš„è§£å°±æ˜¯æœ€ç»ˆç»“æœï¼Œæ­¤æ—¶å¯ä»¥è€ƒè™‘`i`å’Œ`j`çš„åˆå§‹ä½ç½®ï¼Œæ˜¯å¦éœ€è¦è°ƒæ•´åˆ°`-1`æˆ–è€…`len(nums)`ï¼Œæ¥åŠè¯ä¸æ¼æ‰æ¯ä¸€ä¸ªè§£ï¼Œä¾‹å¦‚ä»£ç 2ã€‚

PS:ä»¥ä¸Šæ­¥éª¤ä¸­ï¼Œi,j,midåˆ†åˆ«ä¸ºå·¦ï¼Œå³ï¼Œä¸­é—´æŒ‡é’ˆã€‚é»˜è®¤æ˜¯æ’åºæ•°ç»„ä»å°åˆ°å¤§ï¼Œæ‰€ä»¥å‘å·¦å–æ•´å³å‘ä¸‹å–æ•´ï¼Œåä¹‹äº¦ç„¶ã€‚



### ä»£ç 

```python3
# ä»£ç 1ï¼š
class Solution:
    def nextGreatestLetter(self, letters: List[str], target: str) -> str:
        i, j = 0, len(letters) - 1
        while i < j:
            mid = (i - j) // 2 + j      # å› ä¸ºæ˜¯æ‰¾æœ€å·¦è¾¹ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ï¼Œæ‰€ä»¥å‘å·¦å–æ•´
            if letters[mid] <= target:  # å…ˆè€ƒè™‘ä¸€å®šä¸å­˜åœ¨è§£çš„åŒºé—´ï¼Œæ³¨æ„è¿™é‡Œé—­åŒºé—´ä¹Ÿä¸æ˜¯è§£ï¼Œè¿™ä¸å‘å·¦è¿˜æ˜¯å‘å³å–æ•´æ²¡æœ‰ç»å¯¹è”ç³»
                i = mid + 1             # å› ä¸ºæ˜¯å‘å·¦å–æ•´ï¼Œåˆ™å·¦è¾¹åˆ©ç”¨mid + 1ï¼Œå³è¾¹åˆ©ç”¨å–å‘å·¦æ•´ï¼Œä¸¤è¾¹ç•Œç¼©å°åŒºé—´
            else:
                j = mid
        
        if target >= letters[-1]:       # æ³¨æ„è¿™é‡Œåˆ¤æ–­è§£çš„æ—¶å€™ï¼Œå¯ä»¥è€ƒè™‘æ”¹å˜iå’Œjçš„èµ·å§‹ä½ç½®ï¼Œæ¥å‡å°‘ä¸€äº›å¤æ‚çš„åˆ¤æ–­
            return letters[0]
        return letters[i]
        
# ä»£ç 2
class Solution:
    def nextGreatestLetter(self, letters: List[str], target: str) -> str:
        i, j = 0, len(letters)
        while i < j:
            mid = (i - j) // 2 + j      # å› ä¸ºæ˜¯æ‰¾æœ€å·¦è¾¹ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ï¼Œæ‰€ä»¥å‘å·¦å–æ•´
            if letters[mid] <= target:  # å…ˆè€ƒè™‘ä¸€å®šä¸å­˜åœ¨è§£çš„åŒºé—´ï¼Œæ³¨æ„è¿™é‡Œé—­åŒºé—´ä¹Ÿä¸æ˜¯è§£ï¼Œè¿™ä¸å‘å·¦è¿˜æ˜¯å‘å³å–æ•´æ²¡æœ‰ç»å¯¹è”ç³»
                i = mid + 1             # å› ä¸ºæ˜¯å‘å·¦å–æ•´ï¼Œæ‰€ä»¥æ˜¯å·¦è¾¹åŠ 1ï¼Œå³è¾¹åˆ©ç”¨å–æ•´ï¼Œä¸¤å„è¾¹ç•Œç¼©å°åŒºé—´
            else:
                j = mid
        
        if i == len(letters):       # æ³¨æ„è¿™é‡Œåˆ¤æ–­è§£çš„æ—¶å€™ï¼Œå¯ä»¥è€ƒè™‘æ”¹å˜iå’Œjçš„èµ·å§‹ä½ç½®ï¼Œæ¥å‡å°‘ä¸€äº›å¤æ‚çš„åˆ¤æ–­
            return letters[0]
        return letters[i]
```
